@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 0, 0, 0;
    --background-end-rgb: 0, 0, 0;
  }
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Mobile-first responsive design */
* {
  box-sizing: border-box;
}

html {
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
}

/* Touch-friendly buttons */
button, a {
  min-height: 44px;
  min-width: 44px;
}

/* Ensure menu buttons and icons are visible on mobile */
button svg,
a svg {
  color: inherit;
}

/* Mobile menu button visibility */
header button svg {
  color: #111827 !important;
  stroke: currentColor !important;
}

/* Fix input text visibility on iOS - Critical for mobile */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="tel"],
input[type="date"],
input[type="time"],
input[type="number"],
textarea,
select {
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;
  color: #111827 !important; /* Force dark text color */
  background-color: #ffffff !important;
  font-size: 16px !important; /* Prevent iOS zoom on focus */
  -webkit-text-fill-color: #111827 !important; /* iOS Safari fix */
}

/* Ensure password fields show dots but text is visible when typing */
input[type="password"] {
  -webkit-text-security: disc !important;
  -webkit-text-fill-color: #111827 !important;
}

/* Fix placeholder text visibility */
input::placeholder,
textarea::placeholder {
  color: #9ca3af !important;
  opacity: 1 !important;
  -webkit-text-fill-color: #9ca3af !important;
}

/* Fix select dropdowns on iOS */
select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  background-size: 12px;
  padding-right: 2.5rem;
}

/* Calendar mobile fixes */
.react-calendar {
  width: 100% !important;
  max-width: 100% !important;
  font-family: inherit !important;
  border: none !important;
  background: white !important;
  color: #111827 !important;
}

.react-calendar__tile--active {
  background: #0ea5e9 !important;
  color: white !important;
}

.react-calendar__tile--now {
  background: #e0f2fe !important;
  color: #111827 !important;
}

.react-calendar__tile {
  padding: 0.75em 0.5em !important;
  font-size: 0.875rem !important;
  min-height: 44px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.react-calendar__navigation {
  margin-bottom: 1em !important;
}

.react-calendar__navigation button {
  min-width: 44px !important;
  min-height: 44px !important;
  font-size: 1rem !important;
}

.react-calendar__month-view__weekdays {
  font-size: 0.75rem !important;
  font-weight: 600 !important;
  text-transform: uppercase !important;
}

.react-calendar__month-view__weekdays__weekday {
  padding: 0.5em !important;
}

/* Ensure calendar is visible on mobile */
@media (max-width: 640px) {
  .react-calendar {
    font-size: 14px !important;
    width: 100% !important;
    max-width: 100vw !important;
  }
  
  .react-calendar__tile {
    font-size: 0.75rem !important;
    padding: 0.5em 0.25em !important;
    min-height: 40px !important;
  }
  
  .react-calendar__navigation button {
    font-size: 0.875rem !important;
    padding: 0.5em !important;
  }
  
  .react-calendar__month-view__weekdays {
    font-size: 0.7rem !important;
  }
  
  .react-calendar__month-view__weekdays__weekday {
    padding: 0.4em 0.2em !important;
  }
}

/* Enhanced visibility for scheduled check-out days in Create New Shift calendar */
.react-calendar__tile.bg-blue-600,
.react-calendar__tile[class*="bg-blue-600"] {
  background-color: #2563eb !important;
  color: #ffffff !important;
  font-weight: 700 !important;
  border: 2px solid #1e40af !important;
  box-shadow: 0 2px 4px rgba(37, 99, 235, 0.3) !important;
  -webkit-text-fill-color: #ffffff !important;
}

.react-calendar__tile.bg-red-300,
.react-calendar__tile[class*="bg-red-300"] {
  background-color: #fca5a5 !important;
  color: #7f1d1d !important;
  font-weight: 600 !important;
  border: 2px solid #dc2626 !important;
  text-decoration: line-through !important;
  -webkit-text-fill-color: #7f1d1d !important;
}

/* Extra cleaning days (white background) */
.react-calendar__tile.bg-white[class*="border-gray-300"] {
  background-color: #ffffff !important;
  color: #374151 !important;
  font-weight: 500 !important;
  border: 2px solid #d1d5db !important;
  -webkit-text-fill-color: #374151 !important;
}

.react-calendar__tile.bg-white[class*="border-gray-300"]:hover {
  background-color: #f9fafb !important;
}

/* Calendar tile colors for operator dashboard - shift status indicators */
.react-calendar__tile.bg-blue-500[class*="border-blue-700"],
.react-calendar__tile[class*="bg-blue-500"][class*="border-blue-700"] {
  background-color: #3b82f6 !important;
  color: #ffffff !important;
  font-weight: 700 !important;
  border: 2px solid #1e40af !important;
  box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3) !important;
  -webkit-text-fill-color: #ffffff !important;
}

.react-calendar__tile.bg-yellow-400[class*="border-yellow-600"],
.react-calendar__tile[class*="bg-yellow-400"][class*="border-yellow-600"] {
  background-color: #facc15 !important;
  color: #111827 !important;
  font-weight: 600 !important;
  border: 2px solid #ca8a04 !important;
  box-shadow: 0 2px 4px rgba(250, 204, 21, 0.3) !important;
  -webkit-text-fill-color: #111827 !important;
}

.react-calendar__tile.bg-green-400[class*="border-green-600"],
.react-calendar__tile[class*="bg-green-400"][class*="border-green-600"] {
  background-color: #4ade80 !important;
  color: #ffffff !important;
  font-weight: 600 !important;
  border: 2px solid #16a34a !important;
  box-shadow: 0 2px 4px rgba(74, 222, 128, 0.3) !important;
  -webkit-text-fill-color: #ffffff !important;
}

/* Additional iOS Safari fixes - CRITICAL for iPhone visibility */
@supports (-webkit-touch-callout: none) {
  input, textarea, select {
    font-size: 16px !important; /* Prevents zoom on iOS */
  }
  
  .react-calendar {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Force all text to be visible on iOS Safari */
  body, p, span, div, h1, h2, h3, h4, h5, h6, label, li, td, th {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
    opacity: 1 !important;
    visibility: visible !important;
  }
  
  /* Critical fix for schedule information on iOS */
  .space-y-1 *,
  .space-y-2 *,
  .space-y-3 *,
  .space-y-4 *,
  .space-y-5 *,
  .space-y-6 * {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
    opacity: 1 !important;
    visibility: visible !important;
  }
  
  /* Force visibility for all text in white backgrounds */
  .bg-white *,
  .bg-white p,
  .bg-white span,
  .bg-white div {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
    opacity: 1 !important;
    visibility: visible !important;
  }
  
  /* Fix for text that might be inheriting transparent colors */
  * {
    -webkit-text-fill-color: #111827 !important;
  }
  
  /* Override any transparent or white text */
  [style*="color: transparent"],
  [style*="color:white"],
  [style*="color: white"],
  [style*="opacity: 0"] {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
    opacity: 1 !important;
  }
}

/* Mobile text visibility fixes - Critical for all text elements */
@media (max-width: 768px) {
  /* Force text colors to be visible on mobile */
  body {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
  }
  
  /* Ensure all text elements have proper contrast - iOS Safari specific */
  p, span, div, h1, h2, h3, h4, h5, h6, label, li, td, th {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
    opacity: 1 !important;
    visibility: visible !important;
  }
  
  /* Force visibility for all text content */
  * {
    -webkit-text-fill-color: inherit !important;
  }
  
  /* Fix gray text colors to be darker on mobile */
  .text-gray-100,
  .text-gray-200,
  .text-gray-300,
  .text-gray-400 {
    color: #6b7280 !important;
    -webkit-text-fill-color: #6b7280 !important;
  }
  
  .text-gray-500 {
    color: #374151 !important;
    -webkit-text-fill-color: #374151 !important;
  }
  
  .text-gray-600 {
    color: #1f2937 !important;
    -webkit-text-fill-color: #1f2937 !important;
  }
  
  .text-gray-700 {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
  }
  
  /* Ensure text in cards and containers is visible */
  .bg-white p,
  .bg-white span,
  .bg-white div,
  .bg-white h1,
  .bg-white h2,
  .bg-white h3,
  .bg-white h4,
  .bg-white h5,
  .bg-white h6 {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
  }
  
  /* Fix text in colored backgrounds */
  .bg-green-50,
  .bg-blue-50,
  .bg-yellow-50,
  .bg-orange-50,
  .bg-red-50 {
    color: #111827 !important;
  }
  
  .bg-green-50 p,
  .bg-green-50 span,
  .bg-blue-50 p,
  .bg-blue-50 span,
  .bg-yellow-50 p,
  .bg-yellow-50 span,
  .bg-orange-50 p,
  .bg-orange-50 span,
  .bg-red-50 p,
  .bg-red-50 span {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
  }
  
  /* Ensure minimum font size for readability */
  p, span, div, label, li {
    font-size: 14px !important;
  }
  
  /* Fix shift information text */
  .text-sm {
    font-size: 14px !important;
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
  }
  
  /* Ensure schedule information is visible */
  .space-y-1 p,
  .space-y-2 p,
  .space-y-3 p,
  .space-y-1 span,
  .space-y-2 span,
  .space-y-3 span,
  .space-y-1 div,
  .space-y-2 div,
  .space-y-3 div {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
    font-size: 14px !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
  }
  
  /* Force schedule information visibility */
  [class*="space-y"] p,
  [class*="space-y"] span,
  [class*="space-y"] div {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
    opacity: 1 !important;
    visibility: visible !important;
  }
  
  /* Specific fix for shift detail page schedule section */
  h2 + div.space-y-2 p,
  h2 + div.space-y-2 span {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
    opacity: 1 !important;
    visibility: visible !important;
    font-weight: 400 !important;
  }
  
  /* Fix for font-medium spans inside schedule */
  .font-medium {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
    opacity: 1 !important;
    font-weight: 600 !important;
  }
  
  /* Fix text in status badges */
  .bg-green-100,
  .bg-blue-100,
  .bg-yellow-100,
  .bg-orange-100,
  .bg-red-100 {
    color: #111827 !important;
  }
  
  .bg-green-100 span,
  .bg-blue-100 span,
  .bg-yellow-100 span,
  .bg-orange-100 span,
  .bg-red-100 span {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
  }
  
  /* Ensure links are visible */
  a {
    color: #2563eb !important;
    -webkit-text-fill-color: #2563eb !important;
  }
  
  /* Fix breadcrumb text */
  .text-primary-600 {
    color: #2563eb !important;
    -webkit-text-fill-color: #2563eb !important;
  }
  
  /* Ensure all text in shift cards is visible */
  .border-gray-200 p,
  .border-gray-200 span,
  .border-green-300 p,
  .border-green-300 span,
  .border-orange-300 p,
  .border-orange-300 span {
    color: #111827 !important;
    -webkit-text-fill-color: #111827 !important;
  }
}

/* Additional mobile-specific text fixes */
@media (max-width: 640px) {
  /* Force all text to be dark and visible */
  * {
    -webkit-text-fill-color: inherit;
  }
  
  /* Ensure text in white backgrounds */
  .bg-white * {
    color: #111827 !important;
  }
  
  /* Fix text in information boxes */
  .bg-blue-50 *,
  .bg-yellow-50 *,
  .bg-green-50 *,
  .bg-orange-50 *,
  .bg-red-50 * {
    color: #111827 !important;
  }
  
  /* Ensure schedule and shift information text */
  [class*="space-y"] p,
  [class*="space-y"] span {
    color: #111827 !important;
    font-size: 14px !important;
  }
}

